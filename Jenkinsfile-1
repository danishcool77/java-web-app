pipeline {
  agent { label 'DANISH_MACHINE' }
  options {
    buildDiscarder(logRotator(numToKeepStr: '5'))
  }
  
 
  stages {
  

			
    stage('Scan1') {
    
     environment
  {
  
  NAME = "danish"
   //AAA_SECRET_TEXT = credentials('GIT_REPO_')
  }
	
		      steps {
		      sh "java -version"
       echo "Hello ${NAME}"
     //  echo "credentails  ${AAA_SECRET_TEXT}"
       echo "Branch ${env.GIT_BRANCH}"
	        }
      }
      
          stage('Scan2') {
	  //Stage "Scan2" skipped due to when conditional
	  when{
	  expression
	  {
	  GIT_BRANCH == "origin/master"
	  }
	  }
	
		      steps {
      // echo "Hello ${NAME}" not in global scope to access this
       echo "workspace ${WORKSPACE}"
       echo "Branch ${env.GIT_BRANCH}"
	        }
      }
      
    }
    
        }
